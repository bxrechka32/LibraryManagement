<Window x:Class="LibraryManagement.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:LibraryManagement.ViewModels"
        Title="Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¾Ð¹" 
        Height="600" Width="950"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- ========== Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ========== -->
        <TextBlock Grid.Row="0" 
                   Text="ðŸ“š Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° ÐºÐ½Ð¸Ð³" 
                   FontSize="22" FontWeight="Bold" 
                   Margin="0,0,0,15"
                   Foreground="#333333" />

        <!-- ========== ÐŸÐ°Ð½ÐµÐ»ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ ========== -->
        <Border Grid.Row="1" 
                Background="White" CornerRadius="5" 
                Padding="12" Margin="0,0,0,10"
                BorderBrush="#DDDDDD" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="180" />
                    <ColumnDefinition Width="15" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="180" />
                    <ColumnDefinition Width="15" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="15" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð°Ð²Ñ‚Ð¾Ñ€Ñƒ -->
                <TextBlock Grid.Column="0" Text="ÐÐ²Ñ‚Ð¾Ñ€:" 
                           VerticalAlignment="Center" Margin="0,0,8,0"
                           FontWeight="SemiBold" />
                <ComboBox Grid.Column="1" 
                          ItemsSource="{Binding Authors}"
                          SelectedItem="{Binding SelectedFilterAuthor}"
                          DisplayMemberPath="FullName"
                          VerticalAlignment="Center" />

                <!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð¶Ð°Ð½Ñ€Ñƒ -->
                <TextBlock Grid.Column="3" Text="Ð–Ð°Ð½Ñ€:" 
                           VerticalAlignment="Center" Margin="0,0,8,0"
                           FontWeight="SemiBold" />
                <ComboBox Grid.Column="4" 
                          ItemsSource="{Binding Genres}"
                          SelectedItem="{Binding SelectedFilterGenre}"
                          DisplayMemberPath="Name"
                          VerticalAlignment="Center" />

                <!-- ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ -->
                <TextBlock Grid.Column="6" Text="ÐŸÐ¾Ð¸ÑÐº:" 
                           VerticalAlignment="Center" Margin="0,0,8,0"
                           FontWeight="SemiBold" />
                <TextBox Grid.Column="7" 
                         Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                         VerticalAlignment="Center" Padding="4" />

                <!-- Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ -->
                <Button Grid.Column="9" Content="Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ" 
                        Command="{Binding ResetFiltersCommand}"
                        Padding="12,4" VerticalAlignment="Center" />
            </Grid>
        </Border>

        <!-- ========== Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÐºÐ½Ð¸Ð³ ========== -->
        <DataGrid Grid.Row="2" 
                  ItemsSource="{Binding Books}" 
                  SelectedItem="{Binding SelectedBook}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  AlternatingRowBackground="#F9F9F9"
                  BorderBrush="#DDDDDD"
                  BorderThickness="1"
                  Margin="0,0,0,10">

            <DataGrid.Columns>
                <DataGridTextColumn Header="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" Binding="{Binding Title}" Width="*" />
                <DataGridTextColumn Header="ÐÐ²Ñ‚Ð¾Ñ€" Binding="{Binding Author.FullName}" Width="150" />
                <DataGridTextColumn Header="Ð–Ð°Ð½Ñ€" Binding="{Binding Genre.Name}" Width="120" />
                <DataGridTextColumn Header="Ð“Ð¾Ð´" Binding="{Binding PublishYear}" Width="60" />
                <DataGridTextColumn Header="ISBN" Binding="{Binding ISBN}" Width="160" />
                <DataGridTextColumn Header="ÐšÐ¾Ð»-Ð²Ð¾" Binding="{Binding QuantityInStock}" Width="60" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- ========== ÐšÐ½Ð¾Ð¿ÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ========== -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right">

            <Button Content="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" 
                    Command="{Binding AddBookCommand}"
                    Padding="16,8" Margin="0,0,8,0"
                    Background="#4CAF50" Foreground="White"
                    FontWeight="SemiBold" BorderThickness="0" />

            <Button Content="âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" 
                    Command="{Binding EditBookCommand}"
                    Padding="16,8" Margin="0,0,8,0"
                    Background="#2196F3" Foreground="White"
                    FontWeight="SemiBold" BorderThickness="0" />

            <Button Content="ðŸ—‘ï¸ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" 
                    Command="{Binding DeleteBookCommand}"
                    Padding="16,8"
                    Background="#F44336" Foreground="White"
                    FontWeight="SemiBold" BorderThickness="0" />
        </StackPanel>
    </Grid>
</Window>
